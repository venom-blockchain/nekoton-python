import{u as M,a5 as Rt,N as we,v as b,b as P,K as ye,a as Q,C as F,O as ne,V as qe,G as He,B as te,F as I,x as ce,L as Ce,X as U,a1 as jt,a3 as zt,a6 as xt,y as _e,M as J,z as Ft,E as Se,l as et,Z as $t,J as qt,n as Oe,a7 as tt,_ as Y,d as K,r as We,e as st,f as nt,k as it,q as rt,a8 as at,A as ot,a9 as Ht,c as ct,aa as Nt,ab as Vt,Q as Re,ac as Ut,H as Kt,ad as Wt,ae as Gt,af as Xt,ag as Jt,ah as Qt,ai as Zt,aj as Yt,ak as es,al as ts,am as ss,an as ns,ao as is,Y as rs}from"./chunks/framework.f247d2cd.js";import{t as je}from"./chunks/theme.63719d1b.js";var as=Object.defineProperty,Ge=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable,Xe=(e,t,s)=>t in e?as(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ut=(e,t)=>{for(var s in t||(t={}))os.call(t,s)&&Xe(e,s,t[s]);if(Ge)for(var s of Ge(t))cs.call(t,s)&&Xe(e,s,t[s]);return e},Ie=e=>typeof e=="function",Ae=e=>typeof e=="string",lt=e=>Ae(e)&&e.trim().length>0,us=e=>typeof e=="number",X=e=>typeof e>"u",ue=e=>typeof e=="object"&&e!==null,ls=e=>H(e,"tag")&&lt(e.tag),dt=e=>window.TouchEvent&&e instanceof TouchEvent,ht=e=>H(e,"component")&&pt(e.component),ds=e=>Ie(e)||ue(e),pt=e=>!X(e)&&(Ae(e)||ds(e)||ht(e)),Je=e=>ue(e)&&["height","width","right","left","top","bottom"].every(t=>us(e[t])),H=(e,t)=>(ue(e)||Ie(e))&&t in e,hs=(e=>()=>e++)(0);function De(e){return dt(e)?e.targetTouches[0].clientX:e.clientX}function Qe(e){return dt(e)?e.targetTouches[0].clientY:e.clientY}var ps=e=>{X(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},fe=e=>ht(e)?fe(e.component):ls(e)?M({render(){return e}}):typeof e=="string"?e:Rt(we(e)),fs=e=>{if(typeof e=="string")return e;const t=H(e,"props")&&ue(e.props)?e.props:{},s=H(e,"listeners")&&ue(e.listeners)?e.listeners:{};return{component:fe(e),props:t,listeners:s}},vs=()=>typeof window<"u",Ee=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const s=this.getHandlers(e);s.push(t),this.allHandlers[e]=s}off(e,t){const s=this.getHandlers(e);s.splice(s.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(n=>n(t))}},ms=e=>["on","off","emit"].every(t=>H(e,t)&&Ie(e[t])),R;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(R||(R={}));var le;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(le||(le={}));var j;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(j||(j={}));var $="Vue-Toastification",x={type:{type:String,default:R.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ft={type:x.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},me={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:x.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},ze={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},vt={transition:{type:[Object,String],default:`${$}__bounce`}},bs={position:{type:String,default:le.TOP_RIGHT},draggable:x.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:x.trueBoolean,pauseOnHover:x.trueBoolean,closeOnClick:x.trueBoolean,timeout:ze.timeout,hideProgressBar:ze.hideProgressBar,toastClassName:x.classNames,bodyClassName:x.classNames,icon:ft.customIcon,closeButton:me.component,closeButtonClassName:me.classNames,showCloseButtonOnHover:me.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Ee}},gs={id:{type:[String,Number],required:!0,default:0},type:x.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},ws={container:{type:[Object,Function],default:()=>document.body},newestOnTop:x.trueBoolean,maxToasts:{type:Number,default:20},transition:vt.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:x.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},V={CORE_TOAST:bs,TOAST:gs,CONTAINER:ws,PROGRESS_BAR:ze,ICON:ft,TRANSITION:vt,CLOSE_BUTTON:me},mt=M({name:"VtProgressBar",props:V.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${$}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function ys(e,t){return b(),P("div",{style:ye(e.style),class:Q(e.cpClass)},null,6)}mt.render=ys;var _s=mt,bt=M({name:"VtCloseButton",props:V.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?fe(this.component):"button"},classes(){const e=[`${$}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Ts=Ce(" Ã— ");function Ps(e,t){return b(),F(He(e.buttonComponent),qe({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:ne(()=>[Ts]),_:1},16,["aria-label","class"])}bt.render=Ps;var Cs=bt,gt={},Ss={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Os=I("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Is=[Os];function As(e,t){return b(),P("svg",Ss,Is)}gt.render=As;var Es=gt,wt={},ks={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ls=I("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Ds=[Ls];function Ms(e,t){return b(),P("svg",ks,Ds)}wt.render=Ms;var Ze=wt,yt={},Bs={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Rs=I("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),js=[Rs];function zs(e,t){return b(),P("svg",Bs,js)}yt.render=zs;var xs=yt,_t={},Fs={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},$s=I("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),qs=[$s];function Hs(e,t){return b(),P("svg",Fs,qs)}_t.render=Hs;var Ns=_t,Tt=M({name:"VtIcon",props:V.ICON,computed:{customIconChildren(){return H(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Ae(this.customIcon)?this.trimValue(this.customIcon):H(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return H(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:pt(this.customIcon)?fe(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[R.DEFAULT]:Ze,[R.INFO]:Ze,[R.SUCCESS]:Es,[R.ERROR]:Ns,[R.WARNING]:xs}[this.type]},iconClasses(){const e=[`${$}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return lt(e)?e.trim():t}}});function Vs(e,t){return b(),F(He(e.component),{class:Q(e.iconClasses)},{default:ne(()=>[Ce(U(e.customIconChildren),1)]),_:1},8,["class"])}Tt.render=Vs;var Us=Tt,Pt=M({name:"VtToast",components:{ProgressBar:_s,CloseButton:Cs,Icon:Us},inheritAttrs:!1,props:Object.assign({},V.CORE_TOAST,V.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${$}__toast`,`${$}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${$}__toast--rtl`),e},bodyClasses(){return[`${$}__toast-${Ae(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Je(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:H,getVueComponentFromObj:fe,closeToast(){this.eventBus.emit(j.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:De(e),y:Qe(e)},this.dragStart=De(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:De(e),y:Qe(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Je(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Ks=["role"];function Ws(e,t){const s=J("Icon"),n=J("CloseButton"),r=J("ProgressBar");return b(),P("div",{class:Q(e.classes),style:ye(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(b(),F(s,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):te("v-if",!0),I("div",{role:e.accessibility.toastRole||"alert",class:Q(e.bodyClasses)},[typeof e.content=="string"?(b(),P(ce,{key:0},[Ce(U(e.content),1)],2112)):(b(),F(He(e.getVueComponentFromObj(e.content)),qe({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},jt(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Ks),e.closeButton?(b(),F(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:zt(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):te("v-if",!0),e.timeout?(b(),F(r,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):te("v-if",!0)],38)}Pt.render=Ws;var Gs=Pt,Ct=M({name:"VtTransition",props:V.TRANSITION,emits:["leave"],methods:{hasProp:H,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Xs(e,t){return b(),F(xt,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:ne(()=>[Ft(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Ct.render=Xs;var Js=Ct,St=M({name:"VueToastification",devtools:{hide:!0},components:{Toast:Gs,VtTransition:Js},props:Object.assign({},V.CORE_TOAST,V.CONTAINER,V.TRANSITION),data(){return{count:0,positions:Object.values(le),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(j.ADD,this.addToast),e.on(j.CLEAR,this.clearToasts),e.on(j.DISMISS,this.dismissToast),e.on(j.UPDATE,this.updateToast),e.on(j.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ie(e)&&(e=await e()),ps(this.$el),e.appendChild(this.$el)},setToast(e){X(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=fs(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),s=this.defaults.filterBeforeCreate(t,this.toastArray);s&&this.setToast(s)},dismissToast(e){const t=this.toasts[e];!X(t)&&!X(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(s=>s.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){X(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:s}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):s&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${$}__container`,e].concat(this.defaults.containerClassName)}}});function Qs(e,t){const s=J("Toast"),n=J("VtTransition");return b(),P("div",null,[(b(!0),P(ce,null,_e(e.positions,r=>(b(),P("div",{key:r},[Se(n,{transition:e.defaults.transition,class:Q(e.getClasses(r))},{default:ne(()=>[(b(!0),P(ce,null,_e(e.getPositionToasts(r),i=>(b(),F(s,qe({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}St.render=Qs;var Zs=St,Ye=(e={},t=!0)=>{const s=e.eventBus=e.eventBus||new Ee;t&&Oe(()=>{const i=tt(Zs,ut({},e)),a=i.mount(document.createElement("div")),l=e.onMounted;if(X(l)||l(a,i),e.shareAppContext){const h=e.shareAppContext;h===!0?console.warn(`[${$}] App to share context with was not provided.`):(i._context.components=h._context.components,i._context.directives=h._context.directives,i._context.mixins=h._context.mixins,i._context.provides=h._context.provides,i.config.globalProperties=h.config.globalProperties)}});const n=(i,a)=>{const l=Object.assign({},{id:hs(),type:R.DEFAULT},a,{content:i});return s.emit(j.ADD,l),l.id};n.clear=()=>s.emit(j.CLEAR,void 0),n.updateDefaults=i=>{s.emit(j.UPDATE_DEFAULTS,i)},n.dismiss=i=>{s.emit(j.DISMISS,i)};function r(i,{content:a,options:l},h=!1){const v=Object.assign({},l,{content:a});s.emit(j.UPDATE,{id:i,options:v,create:h})}return n.update=r,n.success=(i,a)=>n(i,Object.assign({},a,{type:R.SUCCESS})),n.info=(i,a)=>n(i,Object.assign({},a,{type:R.INFO})),n.error=(i,a)=>n(i,Object.assign({},a,{type:R.ERROR})),n.warning=(i,a)=>n(i,Object.assign({},a,{type:R.WARNING})),n},Ys=()=>{const e=()=>console.warn(`[${$}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function de(e){return vs()?ms(e)?Ye({eventBus:e},!1):Ye(e,!0):Ys()}var ke=Symbol("VueToastification"),Ne=new Ee,en=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const s=de(ut({eventBus:Ne},t));e.provide(ke,s)},tn=e=>{const t=de(e);et()&&$t(ke,t)},sn=e=>{if(e)return de(e);const t=et()?qt(ke,void 0):void 0;return t||de(Ne)},Ot=en;const nn=Object.freeze(Object.defineProperty({__proto__:null,EventBus:Ee,get POSITION(){return le},get TYPE(){return R},createToastInterface:de,default:Ot,globalEventBus:Ne,provideToast:tn,toastInjectionKey:ke,useToast:sn},Symbol.toStringTag,{value:"Module"}));const rn={name:"BDKSimpleToast",props:{text:{type:String,required:!0},collapseLength:{type:Number,default:60}},setup(e){const t=K(!0),s=We(()=>e.text.slice(0,e.collapseLength)),n=We(()=>e.text.length>e.collapseLength),r=()=>{t.value&&n.value?t.value=!1:closeToast()};return{isCollapsed:t,collapsedText:s,handleClick:()=>{n.value?r():closeToast()},shouldShowButton:n}}},an=e=>(st("data-v-b34f46d6"),e=e(),nt(),e),on={key:0,class:"toast-text-collapsed"},cn=an(()=>I("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1.3em",viewBox:"0 0 512 512"},[I("path",{d:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"})],-1)),un=[cn],ln={key:1,class:"toast-text-expanded"};function dn(e,t,s,n,r,i){return b(),P("div",null,[n.isCollapsed?(b(),P("div",on,[Ce(U(n.collapsedText)+" ",1),n.shouldShowButton?(b(),P("button",{key:0,onClick:t[0]||(t[0]=(...a)=>n.handleClick&&n.handleClick(...a))},un)):te("",!0)])):(b(),P("div",ln,U(s.text),1))])}const ae=Y(rn,[["render",dn],["__scopeId","data-v-b34f46d6"]]),hn=M({name:"BDKDisconnectIcon",props:{size:{type:Number,default:24}}}),pn={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:"32",width:"32"},fn=I("path",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.4753 18.2903H19.295H20.1146V21.5162V23.9355H15.1966L15.1967 27L13.0492 26.2799L8.11633 24.662C7.4459 24.433 7 24.2782 7 24.2782V7H8.63938C8.66196 7 8.68378 7.00459 8.70558 7.00919C8.72248 7.01275 8.73936 7.0163 8.75659 7.01772C8.76929 7.01605 8.78125 7.01267 8.79315 7.00931C8.80968 7.00464 8.8261 7 8.84424 7H17.6556H20.1146V11.8387H19.295H18.4753L18.4754 8.61267L17.6556 8.61281H13.8376H11.918L15.1966 9.41936V22.3226H18.4753V21.5162V18.2903ZM23.153 11.2686L27 15.0644C27 15.0644 26.7522 15.3194 26.4318 15.6346L23.153 18.8605L21.7541 20.2257L21.7539 15.8709H17.6556V15.0645V14.2581H21.7539L21.7541 9.90301L23.153 11.2686Z"},null,-1),vn=[fn];function mn(e,t,s,n,r,i){return b(),P("svg",pn,vn)}const It=Y(hn,[["render",mn]]);var W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={},O={},ie={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getUniqueId=e.mergeTransactions=e.LT_COLLATOR=e.Semaphore=e.DelayedTransactions=e.MessageExpiredException=e.AddressLiteral=e.isAddressObject=e.Address=void 0;class t{constructor(u){this.equals=f=>this._equals(f),this._address=u}toString(){return this._address}toJSON(){return this._address}_equals(u){return typeof u=="string"?this._address===u:this._address===(u==null?void 0:u._address)}}e.Address=t;function s(d){return d!=null&&(d instanceof t||Object.getPrototypeOf(d).constructor.name===t.prototype.constructor.name)}e.isAddressObject=s;class n extends t{constructor(u){super(u)}}e.AddressLiteral=n;class r extends Error{constructor(u,f){super("Message expired"),this.address=u,this.hash=f}}e.MessageExpiredException=r;class i{constructor(){this.transactions=new Map}async waitTransaction(u,f){var g;let D=(g=this.transactions.get(f))===null||g===void 0?void 0:g.promise;if(D==null){let m,o;D=new Promise((c,p)=>{m=w=>c(w),o=()=>p()}),this.transactions.set(f,{promise:D,resolve:m,reject:o})}const B=await D;if(B==null)throw new r(u,f);return B}fillTransaction(u,f){const g=this.transactions.get(u);g!=null?g.resolve(f):this.transactions.set(u,{promise:Promise.resolve(f),resolve:()=>{},reject:()=>{}})}}e.DelayedTransactions=i;class a{constructor(u){this.tasks=[],this.sched=()=>{var f;this.count>0&&this.tasks.length>0&&(this.count--,(f=this.tasks.shift())===null||f===void 0||f())},this.count=u}acquire(){return new Promise((u,f)=>{this.tasks.push(()=>{let g=!1;u(()=>{g||(g=!0,this.count++,this.sched())})}),h(this.sched)})}releaseAll(){for(var u;this.tasks.length>0;)(u=this.tasks.shift())===null||u===void 0||u()}}e.Semaphore=a;function l(d){const u=document.createTextNode("");let f,g,D=0,B=0;return new d(function(){let m;if(f)g&&(f=g.slice(B).concat(f));else{if(!g)return;f=g}if(g=f,f=null,B=0,typeof g=="function"){m=g,g=null,m();return}for(u.data=D=++D%2;B<g.length;)m=g[B],B++,B===g.length&&(g=null),m()}).observe(u,{characterData:!0}),function(m){if(f){typeof f=="function"?f=[f,m]:f.push(m);return}f=m,u.data=D=++D%2}}const h=function(){if(typeof queueMicrotask=="function")return queueMicrotask;if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return l(MutationObserver);if(typeof window.WebKitMutationObserver=="function")return l(window.WebKitMutationObserver)}if(typeof setImmediate=="function")return setImmediate;if(typeof setTimeout=="function"||typeof setTimeout=="object")return function(d){setTimeout(d,0)};throw new Error("No `nextTick` implementation found")}();e.LT_COLLATOR=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function v(d,u,f){if(f.batchType==="old")return d.push(...u),d;if(d.length===0)return d.push(...u),d;let g=0;for(;g<d.length&&e.LT_COLLATOR.compare(d[g].id.lt,f.maxLt)>=0;)++g;return d.splice(g,0,...u),d}e.mergeTransactions=v;const y=4294967295;let _=Math.floor(Math.random()*y);function T(){return _=(_+1)%y,_}e.getUniqueId=T})(ie);Object.defineProperty(O,"__esModule",{value:!0});O.parsePartialTokensObject=O.parseTokensObject=O.serializeTokensObject=O.parseAccountInteraction=O.parsePermissions=O.parseMessage=O.serializeMessage=O.parseTransaction=O.serializeTransaction=void 0;const he=ie;function bn(e){return{id:{hash:e.id.hash,lt:e.id.lt},prevTransactionId:e.prevTransactionId!=null?{hash:e.prevTransactionId.hash,lt:e.prevTransactionId.lt}:void 0,createdAt:e.createdAt,aborted:e.aborted,exitCode:e.exitCode,resultCode:e.resultCode,origStatus:e.origStatus,endStatus:e.endStatus,totalFees:e.totalFees,inMessage:xe(e.inMessage),outMessages:e.outMessages.map(xe)}}O.serializeTransaction=bn;function gn(e){return{...e,inMessage:Fe(e.inMessage),outMessages:e.outMessages.map(Fe)}}O.parseTransaction=gn;function xe(e){return{hash:e.hash,src:e.src?e.src.toString():void 0,dst:e.dst?e.dst.toString():void 0,value:e.value,bounce:e.bounce,bounced:e.bounced,body:e.body,bodyHash:e.bodyHash}}O.serializeMessage=xe;function Fe(e){return{...e,src:e.src?new he.Address(e.src):void 0,dst:e.dst?new he.Address(e.dst):void 0}}O.parseMessage=Fe;function wn(e){return{...e,accountInteraction:e.accountInteraction?At(e.accountInteraction):void 0}}O.parsePermissions=wn;function At(e){return{...e,address:new he.Address(e.address)}}O.parseAccountInteraction=At;function yn(e){return $e(e)}O.serializeTokensObject=yn;function $e(e){if(typeof e=="object"&&(0,he.isAddressObject)(e))return e.toString();if(Array.isArray(e)){const t=[];for(const s of e)t.push($e(s));return t}else if(e!=null&&typeof e=="object"){const t={};for(const[s,n]of Object.entries(e))t[s]=$e(n);return t}else return e}function _n(e,t){const s={};for(const n of e)s[n.name]=G(n,t[n.name]);return s}O.parseTokensObject=_n;function Tn(e,t){const s={};for(const n of e)Object.prototype.hasOwnProperty.call(t,n.name)&&(s[n.name]=G(n,!t[n.name]));return s}O.parsePartialTokensObject=Tn;function G(e,t){if(e.type.startsWith("map")){const s=e.type.indexOf(","),n=e.type.slice(4,s),r=e.type.slice(s+1,-1),i=[];for(const[a,l]of t)i.push([G({name:"",type:n},a),G({name:"",type:r,components:e.components},l)]);return i}else{const s=e.type.endsWith("[]"),n=!s&&e.type.startsWith("optional"),r=s?e.type.slice(0,-2):n?e.type.slice(9,-1):e.type;if(s){const i={name:e.name,type:r,components:e.components},a=[];for(const l of t)a.push(G(i,l));return a}else if(n){if(t==null)return null;{const i={name:e.name,type:r,components:e.components};return G(i,t)}}else if(r==="tuple"){const i={};if(e.components!=null)for(const a of e.components)i[a.name]=G(a,t[a.name]);return i}else return r==="address"?new he.Address(t):t}}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.Subscriber=void 0;const oe=ie,Pn=O;class Cn{constructor(t){this.provider=t,this.subscriptions=new Map,this.scanners=new Map,this.unsubscribe=async()=>this._unsubscribe()}transactions(t){return this._addSubscription("transactionsFound",t,!1)}trace(t){const s=(0,oe.getUniqueId)();return new L((n,r)=>{const i=new On(this.provider,{origin:t,onData:n,onEnd:a=>{this.scanners.delete(s),r(a)}});return this.scanners.set(s,i),i.start(),Promise.resolve()},async()=>{const n=this.scanners.get(s);n!=null&&(this.scanners.delete(s),await n.stop())},Me,!0)}oldTransactions(t,s){const n=(0,oe.getUniqueId)();return new L((r,i)=>{const a=new Sn(this.provider,{address:t,onData:r,onEnd:l=>{this.scanners.delete(n),i(l)},...s});return this.scanners.set(n,a),a.start(),Promise.resolve()},async()=>{const r=this.scanners.get(n);r!=null&&(this.scanners.delete(n),await r.stop())},Me,!0)}states(t){return this._addSubscription("contractStateChanged",t,!1)}async _unsubscribe(){const t=[];for(const s of this.subscriptions.values())for(const[n,r]of Object.entries(s))delete s[n],r!=null&&t.push(r.subscription.then(i=>i.unsubscribe()).catch(()=>{}));this.subscriptions.clear();for(const s of this.scanners.values())t.push(s.stop());this.scanners.clear(),await Promise.all(t)}_addSubscription(t,s,n){const r=s.toString(),i=l=>{const h=this.subscriptions.get(r);if(h==null)return;const v=h[t];if(v!=null){const y=v.handlers.get(l);if(y!=null){v.handlers.delete(l);const{queue:_,onEnd:T,state:d}=y;d.finished||(d.finished=!0,_.clear(),_.enqueue(async()=>T(d.eof)))}if(v.handlers.size===0){const _=v.subscription;delete h[t],_.then(T=>T.unsubscribe()).catch(console.debug)}}h.contractStateChanged==null&&h.transactionsFound==null&&this.subscriptions.delete(r)},a=(0,oe.getUniqueId)();return new L((l,h)=>{const v=this.subscriptions.get(r);let y=v==null?void 0:v[t];const _={eof:!1,finished:!1},T={onData:l,onEnd:h,queue:new Ve,state:_};if(y!=null)return y.handlers.set(a,T),Promise.resolve();const d=new Map;d.set(a,T);const u=this.provider.subscribe(t,{address:s}).then(f=>(f.on("data",g=>{for(const{onData:D,queue:B,state:m}of d.values())m.eof||m.finished||B.enqueue(async()=>{await D(g)||(m.eof=!0,i(a))})}),f.on("unsubscribed",()=>{for(const g of d.keys())i(g)}),f)).catch(f=>{console.error(f);for(const g of d.keys())i(g);throw f});return y={subscription:u,handlers:d},v==null?this.subscriptions.set(r,{[t]:y}):v[t]=y,u.then(()=>{})},()=>i(a),Me,n)}}pe.Subscriber=Cn;async function Me(e,t){return t(e)}class L{constructor(t,s,n,r){this.makeProducer=t,this.stopProducer=s,this.extractor=n,this.isFinite=r,this.fold=this.onlyFinite((i,a,l)=>{let h=i;return new Promise((v,y)=>{const _=this.makeProducer(T=>this.extractor(T,async d=>(h=await a(h,d),!0)),T=>{T?v(h):y(new Error("Subscription closed"))});l!=null&&(l.subscribed=_)})}),this.finished=this.onlyFinite(i=>new Promise((a,l)=>{const h=this.makeProducer(v=>this.extractor(v,y=>!0),v=>{v?a(void 0):l(new Error("Subscription closed"))});i!=null&&(i.subscribed=h)}))}async delayed(t){const{subscribed:s,result:n}=t({first:()=>{const r={},i=this.first(r);return{subscribed:r.subscribed,result:i}},on:r=>{const i={};return this.on(r,i),{subscribed:i.subscribed,result:void 0}},fold:this.fold!=null?(r,i)=>{const a={},l=this.fold(r,i,a);return{subscribed:a.subscribed,result:l}}:void 0,finished:this.finished!=null?()=>{const r={},i=this.finished(r);return{subscribed:r.subscribed,result:i}}:void 0});return await s,()=>n}first(t){const s={found:!1};return new Promise((n,r)=>{const i=this.makeProducer(a=>this.extractor(a,l=>(Object.assign(s,{found:!0,result:l}),!1)),a=>{a?this.isFinite?n(s.found?s.result:void 0):s.found?n(s.result):r(new Error("Unexpected end of stream")):r(new Error("Subscription closed"))});t!=null&&(t.subscribed=i)})}on(t,s){const n=this.makeProducer(r=>this.extractor(r,async i=>(await t(i),!0)),r=>{});s!=null&&(s.subscribed=n)}merge(t){return new L((s,n)=>{const r={stopped:!1,counter:0},i=a=>{r.stopped||(++r.counter==2||!a)&&(r.stopped=!0,n(a))};return Promise.all([this.makeProducer(s,i),t.makeProducer(s,i)]).then(()=>{})},()=>{this.stopProducer(),t.stopProducer()},this.extractor,this.isFinite&&t.isFinite)}enumerate(){const t={index:0};return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>n({index:t.index++,item:r})),this.isFinite)}tap(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>(await t(r),n(r))),this.isFinite)}filter(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>await t(r)?n(r):!0),this.isFinite)}filterMap(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>{const i=await t(r);return i!==void 0?n(i):!0}),this.isFinite)}map(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>{const i=await t(r);return n(i)}),this.isFinite)}flatMap(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>{const i=await t(r);for(const a of i)if(!await n(a))return!1;return!0}),this.isFinite)}skip(t){const s={index:0};return new L(this.makeProducer,this.stopProducer,(n,r)=>this.extractor(n,i=>s.index>=t?r(i):(++s.index,!0)),this.isFinite)}skipWhile(t){const s={shouldSkip:!0};return new L(this.makeProducer,this.stopProducer,(n,r)=>this.extractor(n,async i=>!s.shouldSkip||!await t(i)?(s.shouldSkip=!1,r(i)):!0),this.isFinite)}take(t){const s={index:0};return new L(this.makeProducer,this.stopProducer,(n,r)=>this.extractor(n,i=>s.index<t?(++s.index,r(i)):!1),!0)}takeWhile(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>await t(r)?n(r):!1),!0)}takeWhileMap(t){return new L(this.makeProducer,this.stopProducer,(s,n)=>this.extractor(s,async r=>{const i=await t(r);return i!==void 0?n(i):!1}),!0)}onlyFinite(t){if(this.isFinite)return t}}class Sn{constructor(t,s){this.provider=t,this.params=s,this.queue=new Ve,this.isRunning=!1}start(){this.isRunning||this.promise!=null||(this.isRunning=!0,this.promise=(async()=>{const t=this.params,s={complete:!1};for(;this.isRunning&&!s.complete;)try{const{transactions:n,continuation:r}=await this.provider.getTransactions({address:this.params.address,continuation:this.continuation});if(s.complete=!s.complete&&n.length==null,!this.isRunning||s.complete)break;const i=n.filter(l=>(t.fromLt==null||oe.LT_COLLATOR.compare(l.id.lt,t.fromLt)>0)&&(t.fromUtime==null||l.createdAt>t.fromUtime));if(i.length==0){s.complete=!0;break}const a={maxLt:i[0].id.lt,minLt:i[i.length-1].id.lt,batchType:"old"};if(this.queue.enqueue(async()=>{await this.params.onData({address:this.params.address,transactions:i,info:a})||(s.complete=!0,this.isRunning=!1)}),r!=null)this.continuation=r;else{s.complete=!0;break}}catch(n){console.error(n)}this.queue.enqueue(async()=>this.params.onEnd(s.complete)),this.isRunning=!1,this.continuation=void 0})())}async stop(){this.isRunning=!1,this.queue.clear(),this.promise!=null?await this.promise:this.params.onEnd(!1)}}class On{constructor(t,s){this.provider=t,this.params=s,this.queue=new Ve,this.isRunning=!1,this.semaphore=new oe.Semaphore(10)}start(){if(this.isRunning||this.promise!=null)return;const t=this.provider;this.isRunning=!0,this.promise=(async()=>{const s={complete:!1},n=i=>{const a={stopped:!1};return{promise:(async()=>{let v=500;for(;;){const y=await this.semaphore.acquire();if(a.stopped){y();return}const _=await t.rawApi.findTransaction({inMessageHash:i}).catch(()=>({transaction:void 0})).finally(()=>y());if(a.stopped)return;if(_.transaction!=null){const u=(0,Pn.parseTransaction)(_.transaction);return u.account=u.inMessage.dst,u}let T;const d=new Promise((u,f)=>{T=()=>u(),a.reject=()=>f()});if(a.timeout=setTimeout(T,v),await d,a.stopped)return;a.reject=void 0,v=Math.min(v*2,3e3)}})(),reject:()=>{var v;a.stopped=!0,(v=a.reject)===null||v===void 0||v.call(a),a.timeout!=null&&clearTimeout(a.timeout)}}},r=[this.params.origin];try{e:for(;this.isRunning;){const i=r.shift();if(i==null){s.complete=!0;break}const a=i.outMessages.filter(l=>l.dst!=null).map(l=>{const h=l.hash;return n(h)});this.pendingTransactions=a;for(const{promise:l}of a){const h=await l;if(!this.isRunning||s.complete||h==null)break e;this.queue.enqueue(async()=>{await this.params.onData(h)||(s.complete=!0,this.isRunning=!1,this.rejectPendingTransactions())}),r.push(h)}this.pendingTransactions=void 0}}catch(i){console.error(i)}finally{this.queue.enqueue(async()=>this.params.onEnd(s.complete)),this.isRunning=!1,this.rejectPendingTransactions()}})()}async stop(){this.isRunning=!1,this.queue.clear(),this.rejectPendingTransactions(),this.promise!=null?await this.promise:this.params.onEnd(!1)}rejectPendingTransactions(){if(this.pendingTransactions!=null){for(const t of this.pendingTransactions)t.reject();this.pendingTransactions=void 0}this.semaphore.releaseAll()}}class Ve{constructor(){this.queue=[],this.workingOnPromise=!1}enqueue(t){this.queue.push(t),this._dequeue().catch(()=>{})}clear(){this.queue.length=0}async _dequeue(){if(this.workingOnPromise)return;const t=this.queue.shift();t&&(this.workingOnPromise=!0,t().then(()=>{this.workingOnPromise=!1,this._dequeue()}).catch(()=>{this.workingOnPromise=!1,this._dequeue()}))}}var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.TvmException=Z.Contract=void 0;const ee=ie,A=O;class In{constructor(t,s,n){if(!Array.isArray(s.functions))throw new Error("Invalid abi. Functions array required");if(!Array.isArray(s.events))throw new Error("Invalid abi. Events array required");this._provider=t,this._abi=JSON.stringify(s),this.methodsAbi=s.functions.reduce((r,i)=>(i.inputs==null&&(i.inputs=[]),i.outputs==null&&(i.outputs=[]),r[i.name]=i,r),{}),this.eventsAbi=s.events.reduce((r,i)=>(i.inputs==null&&(i.inputs=[]),r[i.name]=i,r),{}),this.fieldsAbi=s.fields,this._address=n,this._methods=new Proxy({},{get:(r,i)=>{const a=this.methodsAbi[i];return(l={})=>new An(this._provider,a,this._abi,this._address,i,l)}}),this._fields=new Proxy({},{get:(r,i)=>async(a={})=>{await this._provider.ensureInitialized();const{fields:l,state:h}=await this._provider.rawApi.getContractFields({address:this._address.toString(),abi:this._abi,cachedState:a==null?void 0:a.cachedState,allowPartial:(a==null?void 0:a.allowPartial)==null?!1:a.allowPartial});if(l==null)throw h==null?new Error("Account does not exist"):h.isDeployed?new Error("Invalid account data"):new Error("Account is not deployed");const v=(0,A.parseTokensObject)(this.fieldsAbi,l);if(v==null||!Object.prototype.hasOwnProperty.call(v,i))throw new Error("Unknown field");return v[i]}})}get methods(){return this._methods}get fields(){return this._fields}get address(){return this._address}get abi(){return this._abi}async getFullState(){return await this._provider.ensureInitialized(),await this._provider.rawApi.getFullContractState({address:this.address.toString()})}async getFields(t={}){await this._provider.ensureInitialized();const{fields:s,state:n}=await this._provider.rawApi.getContractFields({address:this.address.toString(),abi:this._abi,cachedState:t.cachedState,allowPartial:t.allowPartial==null?!1:t.allowPartial});return{fields:s!=null?(0,A.parseTokensObject)(this.fieldsAbi,s):void 0,state:n}}transactions(t){return t.transactions(this._address).flatMap(({transactions:s})=>s)}events(t){return t.transactions(this._address).flatMap(({transactions:s})=>s).flatMap(s=>this.decodeTransactionEvents({transaction:s}).then(n=>(n.forEach(r=>r.transaction=s),n)))}async waitForEvent(t={}){const{range:s,filter:n}=t,r=typeof n=="string"?({event:h})=>h===n:n;let i=t.subscriber;const a=i==null;i==null&&(i=new this._provider.Subscriber);const l=await((s==null?void 0:s.fromLt)!=null||(s==null?void 0:s.fromUtime)!=null?i.oldTransactions(this._address,s).merge(i.transactions(this._address)):i.transactions(this.address)).flatMap(h=>h.transactions).takeWhile(h=>s==null||(s.fromLt==null||ee.LT_COLLATOR.compare(h.id.lt,s.fromLt)>0)&&(s.fromUtime==null||h.createdAt>s.fromUtime)&&(s.toLt==null||ee.LT_COLLATOR.compare(h.id.lt,s.toLt)<0)&&(s.toUtime==null||h.createdAt<s.toUtime)).flatMap(h=>this.decodeTransactionEvents({transaction:h}).then(v=>(v.forEach(y=>y.transaction=h),v))).filterMap(async h=>{if(r==null||await r(h))return h}).first();return a&&await i.unsubscribe(),l}async getPastEvents(t){const{range:s,filter:n,limit:r}=t,i=typeof n=="string"?({event:h})=>h===n:n,a=[];let l=t==null?void 0:t.continuation;e:for(;;){const{transactions:h,continuation:v}=await this._provider.getTransactions({address:this._address,continuation:l});if(h.length===null)break;const y=h.filter(_=>((s==null?void 0:s.fromLt)==null||ee.LT_COLLATOR.compare(_.id.lt,s.fromLt)>0)&&((s==null?void 0:s.fromUtime)==null||_.createdAt>s.fromUtime)&&((s==null?void 0:s.toLt)==null||ee.LT_COLLATOR.compare(_.id.lt,s.toLt)<0)&&((s==null?void 0:s.toUtime)==null||_.createdAt<s.toUtime));if(y.length>0){const _=await Promise.all(y.map(async T=>({tx:T,events:await this.decodeTransactionEvents({transaction:T}).then(d=>(d.forEach(u=>u.transaction=T),d))})));for(let{tx:T,events:d}of _){i!=null&&(d=await Promise.all(d.map(async u=>await i(u)?u:void 0)).then(u=>u.filter(f=>f!=null))),l=T.id;for(const u of d){if(r!=null&&a.length>=r)break e;a.push(u)}if(r!=null&&a.length>=r)break e}}if(l=v,l==null)break}return{events:a,continuation:l}}async decodeTransaction(t){await this._provider.ensureInitialized();try{const s=await this._provider.rawApi.decodeTransaction({transaction:(0,A.serializeTransaction)(t.transaction),abi:this._abi,method:t.methods});if(s==null)return;const{method:n,input:r,output:i}=s,a=this.methodsAbi[n];return{method:n,input:a.inputs!=null?(0,A.parseTokensObject)(a.inputs,r):{},output:a.outputs!=null?(0,A.parseTokensObject)(a.outputs,i):{}}}catch{return}}async decodeTransactionEvents(t){await this._provider.ensureInitialized();try{const{events:s}=await this._provider.rawApi.decodeTransactionEvents({transaction:(0,A.serializeTransaction)(t.transaction),abi:this._abi}),n=[];for(const{event:r,data:i}of s){const a=this.eventsAbi[r];n.push({event:r,data:a.inputs!=null?(0,A.parseTokensObject)(a.inputs,i):{}})}return n}catch{return[]}}async decodeInputMessage(t){await this._provider.ensureInitialized();try{const s=await this._provider.rawApi.decodeInput({abi:this._abi,body:t.body,internal:t.internal,method:t.methods});if(s==null)return;const{method:n,input:r}=s,i=this.methodsAbi[n];return{method:n,input:i.inputs!=null?(0,A.parseTokensObject)(i.inputs,r):{}}}catch{return}}async decodeOutputMessage(t){await this._provider.ensureInitialized();try{const s=await this._provider.rawApi.decodeOutput({abi:this._abi,body:t.body,method:t.methods});if(s==null)return;const{method:n,output:r}=s,i=this.methodsAbi[n];return{method:n,output:i.outputs!=null?(0,A.parseTokensObject)(i.outputs,r):{}}}catch{return}}async decodeEvent(t){await this._provider.ensureInitialized();try{const s=await this._provider.rawApi.decodeEvent({abi:this.abi,body:t.body,event:t.events});if(s==null)return;const{event:n,data:r}=s,i=this.eventsAbi[n];return{event:n,data:i.inputs!=null?(0,A.parseTokensObject)(i.inputs,r):{}}}catch{return}}}Z.Contract=In;class Et extends Error{constructor(t){super(`TvmException: ${t}`),this.code=t}}Z.TvmException=Et;class An{constructor(t,s,n,r,i,a){this.provider=t,this.functionAbi=s,this.abi=n,this.address=r,this.method=i,this.params=(0,A.serializeTokensObject)(a)}async send(t){await this.provider.ensureInitialized();const{transaction:s}=await this.provider.rawApi.sendMessage({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,bounce:t.bounce==null?!0:t.bounce,payload:{abi:this.abi,method:this.method,params:this.params},stateInit:t.stateInit});return(0,A.parseTransaction)(s)}async sendDelayed(t){await this.provider.ensureInitialized();const s=new ee.DelayedTransactions,n=await this.provider.subscribe("messageStatusUpdated");n.on("data",a=>{a.address.equals(t.from)&&s.fillTransaction(a.hash,a.transaction)});const{message:r}=await this.provider.rawApi.sendMessageDelayed({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,bounce:t.bounce==null?!0:t.bounce,payload:{abi:this.abi,method:this.method,params:this.params},stateInit:t.stateInit}).catch(a=>{throw n.unsubscribe().catch(console.error),a}),i=s.waitTransaction(this.address,r.hash).finally(()=>n.unsubscribe().catch(console.error));return{messageHash:r.hash,expireAt:r.expireAt,transaction:i}}async sendWithResult(t){await this.provider.ensureInitialized();let s=t.subscriber;const n=s==null;s==null&&(s=new this.provider.Subscriber);try{let r,i;const a=new Promise(d=>{i=u=>d(u)}),l=[];s.transactions(this.address).flatMap(d=>d.transactions).filter(d=>{var u;return((u=d.inMessage.src)===null||u===void 0?void 0:u.equals(t.from))||!1}).on(d=>{r==null?l.push(d):r.possibleMessages.findIndex(u=>u.hash==d.inMessage.hash)>=0&&(i==null||i(d))});const h=await this.send(t),v=h.outMessages.filter(d=>{var u;return((u=d.dst)===null||u===void 0?void 0:u.equals(this.address))||!1});r={transaction:h,possibleMessages:v};const y=l.find(d=>v.findIndex(u=>u.hash==d.inMessage.hash)>=0);y!=null&&(i==null||i(y));const _=await a;let T;try{const d=await this.provider.rawApi.decodeTransaction({transaction:(0,A.serializeTransaction)(_),abi:this.abi,method:this.method});d!=null&&(T=this.functionAbi.outputs!=null?(0,A.parseTokensObject)(this.functionAbi.outputs,d.output):{})}catch(d){console.error(d)}return{parentTransaction:r.transaction,childTransaction:_,output:T}}finally{n&&await s.unsubscribe()}}async estimateFees(t){await this.provider.ensureInitialized();const{fees:s}=await this.provider.rawApi.estimateFees({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,payload:{abi:this.abi,method:this.method,params:this.params},stateInit:t.stateInit});return s}async sendExternal(t){await this.provider.ensureInitialized();const s=t.withoutSignature===!0?this.provider.rawApi.sendUnsignedExternalMessage:this.provider.rawApi.sendExternalMessage,{transaction:n,output:r}=await s({publicKey:t.publicKey,recipient:this.address.toString(),stateInit:t.stateInit,payload:{abi:this.abi,method:this.method,params:this.params},local:t.local,executorParams:t.executorParams?{disableSignatureCheck:t.executorParams.disableSignatureCheck,overrideBalance:t.executorParams.overrideBalance}:void 0});return{transaction:(0,A.parseTransaction)(n),output:r!=null?(0,A.parseTokensObject)(this.functionAbi.outputs,r):void 0}}async sendExternalDelayed(t){await this.provider.ensureInitialized();const s=new ee.DelayedTransactions,n=await this.provider.subscribe("messageStatusUpdated");n.on("data",a=>{a.address.equals(this.address)&&s.fillTransaction(a.hash,a.transaction)});const{message:r}=await this.provider.rawApi.sendExternalMessageDelayed({publicKey:t.publicKey,recipient:this.address.toString(),stateInit:t.stateInit,payload:{abi:this.abi,method:this.method,params:this.params}}).catch(a=>{throw n.unsubscribe().catch(console.error),a}),i=s.waitTransaction(this.address,r.hash).finally(()=>n.unsubscribe().catch(console.error));return{messageHash:r.hash,expireAt:r.expireAt,transaction:i}}async call(t={}){await this.provider.ensureInitialized();const{output:s,code:n}=await this.provider.rawApi.runLocal({address:this.address.toString(),cachedState:t.cachedState,responsible:t.responsible,functionCall:{abi:this.abi,method:this.method,params:this.params}});if(s==null||n!=0)throw new Et(n);return(0,A.parseTokensObject)(this.functionAbi.outputs,s)}async executeExternal(t){await this.provider.ensureInitialized();const{transaction:s,newState:n,output:r}=await this.provider.rawApi.executeLocal({address:this.address.toString(),cachedState:t.cachedState,stateInit:t.stateInit,payload:{abi:this.abi,method:this.method,params:this.params},messageHeader:{type:"external",publicKey:t.publicKey,withoutSignature:t.withoutSignature},executorParams:t.executorParams!=null?{disableSignatureCheck:t.executorParams.disableSignatureCheck,overrideBalance:t.executorParams.overrideBalance}:void 0});return{transaction:(0,A.parseTransaction)(s),newState:n,output:r!==void 0?(0,A.parseTokensObject)(this.functionAbi.outputs,r):void 0}}async executeInternal(t){await this.provider.ensureInitialized();const{transaction:s,newState:n,output:r}=await this.provider.rawApi.executeLocal({address:this.address.toString(),cachedState:t.cachedState,stateInit:t.stateInit,payload:{abi:this.abi,method:this.method,params:this.params},messageHeader:{type:"internal",sender:t.sender.toString(),amount:t.amount,bounce:t.bounce!=null?t.bounce:!1,bounced:t.bounced},executorParams:t.executorParams!=null?{disableSignatureCheck:t.executorParams.disableSignatureCheck,overrideBalance:t.executorParams.overrideBalance}:void 0});return{transaction:(0,A.parseTransaction)(s),newState:n,output:r!==void 0?(0,A.parseTokensObject)(this.functionAbi.outputs,r):void 0}}async encodeInternal(){await this.provider.ensureInitialized();const{boc:t}=await this.provider.rawApi.encodeInternalInput({abi:this.abi,method:this.method,params:this.params});return t}}var kt={};Object.defineProperty(kt,"__esModule",{value:!0});(function(e){var t=W&&W.__createBinding||(Object.create?function(m,o,c,p){p===void 0&&(p=c);var w=Object.getOwnPropertyDescriptor(o,c);(!w||("get"in w?!o.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(m,p,w)}:function(m,o,c,p){p===void 0&&(p=c),m[p]=o[c]}),s=W&&W.__setModuleDefault||(Object.create?function(m,o){Object.defineProperty(m,"default",{enumerable:!0,value:o})}:function(m,o){m.default=o}),n=W&&W.__importStar||function(m){if(m&&m.__esModule)return m;var o={};if(m!=null)for(var c in m)c!=="default"&&Object.prototype.hasOwnProperty.call(m,c)&&t(o,m,c);return s(o,m),o},r=W&&W.__exportStar||function(m,o){for(var c in m)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,m,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProviderNotInitializedException=e.ProviderNotFoundException=e.ProviderRpcClient=e.hasEverscaleProvider=e.LT_COLLATOR=e.isAddressObject=e.mergeTransactions=e.MessageExpiredException=e.AddressLiteral=e.Address=e.Subscriber=void 0;const i=O,a=ie,l=n(pe),h=n(Z);r(kt,e),r(O,e),r(Z,e);var v=pe;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return v.Subscriber}});var y=ie;Object.defineProperty(e,"Address",{enumerable:!0,get:function(){return y.Address}}),Object.defineProperty(e,"AddressLiteral",{enumerable:!0,get:function(){return y.AddressLiteral}}),Object.defineProperty(e,"MessageExpiredException",{enumerable:!0,get:function(){return y.MessageExpiredException}}),Object.defineProperty(e,"mergeTransactions",{enumerable:!0,get:function(){return y.mergeTransactions}}),Object.defineProperty(e,"isAddressObject",{enumerable:!0,get:function(){return y.isAddressObject}}),Object.defineProperty(e,"LT_COLLATOR",{enumerable:!0,get:function(){return y.LT_COLLATOR}});const _=typeof window<"u"&&typeof window.document<"u";let T;!_||document.readyState==="complete"?T=Promise.resolve():T=new Promise(m=>{window.addEventListener("load",()=>{m()})});const d=()=>_?window.__ever||window.ton:void 0;async function u(){return _?(await T,window.__hasEverscaleProvider===!0||window.hasTonProvider===!0):!1}e.hasEverscaleProvider=u;class f{constructor(o={}){this._subscriptions={connected:new Map,disconnected:new Map,transactionsFound:new Map,contractStateChanged:new Map,messageStatusUpdated:new Map,networkChanged:new Map,permissionsChanged:new Map,loggedOut:new Map},this._contractSubscriptions=new Map,this._properties=o;const c=this;class p extends h.Contract{constructor(C,E){super(c,C,E)}}this.Contract=p;class w extends l.Subscriber{constructor(){super(c)}}this.Subscriber=w,this._api=new Proxy({},{get:(S,C)=>E=>{if(this._provider!=null)return this._provider.request({method:C,params:E});throw new D}}),o.forceUseFallback===!0?this._initializationPromise=o.fallback!=null?o.fallback().then(S=>{this._provider=S}):Promise.resolve():(this._provider=d(),this._provider!=null?this._initializationPromise=Promise.resolve():this._initializationPromise=u().then(S=>new Promise(C=>{if(!S)return C();if(this._provider=d(),this._provider!=null)C();else{const E=window.__hasEverscaleProvider===!0?"ever#initialized":"ton#initialized";window.addEventListener(E,k=>{this._provider=d(),C()})}})).then(async()=>{this._provider==null&&o.fallback!=null&&(this._provider=await o.fallback())})),this._initializationPromise.then(()=>{this._provider!=null&&this._registerEventHandlers(this._provider)})}async hasProvider(){return this._properties.fallback!=null?!0:u()}async ensureInitialized(){if(await this._initializationPromise,this._provider==null)throw new g}get isInitialized(){return this._provider!=null}get raw(){if(this._provider!=null)return this._provider;throw new D}get rawApi(){return this._api}createContract(o,c){return new this.Contract(o,c)}createSubscriber(){return new this.Subscriber}async requestPermissions(o){await this.ensureInitialized();const c=await this._api.requestPermissions({permissions:o.permissions});return(0,i.parsePermissions)(c)}async changeAccount(){await this.ensureInitialized(),await this._api.changeAccount()}async disconnect(){await this.ensureInitialized(),await this._api.disconnect()}async subscribe(o,c){class p{constructor(E,k){this._subscribe=E,this._unsubscribe=k,this._listeners={data:[],subscribed:[],unsubscribed:[]},this._subscribed=!1,this.subscribe=async()=>{if(!this._subscribed){this._subscribed=!0,await this._subscribe(this);for(const z of this._listeners.subscribed)z()}},this.unsubscribe=async()=>{if(this._subscribed){this._subscribed=!1,await this._unsubscribe();for(const z of this._listeners.unsubscribed)z()}}}on(E,k){return this._listeners[E].push(k),this}notify(E){for(const k of this._listeners.data)k(E)}}const w=this._subscriptions[o],S=(0,a.getUniqueId)();switch(o){case"connected":case"disconnected":case"messageStatusUpdated":case"networkChanged":case"permissionsChanged":case"loggedOut":{const C=new p(async E=>{w.has(S)||w.set(S,k=>{E.notify(k)})},async()=>{w.delete(S)});return await C.subscribe(),C}case"transactionsFound":case"contractStateChanged":{if(c==null)throw new Error("Address must be specified for the subscription");await this.ensureInitialized();const C=c.address.toString(),E=new p(async k=>{if(w.has(S))return;w.set(S,ve=>{ve.address.toString()===C&&k.notify(ve)});let z=this._contractSubscriptions.get(C);z==null&&(z=new Map,this._contractSubscriptions.set(C,z));const re={state:o==="contractStateChanged",transactions:o==="transactionsFound"};z.set(S,re);const{total:N,withoutExcluded:Ke}=B(z.values(),re);try{(N.transactions!==Ke.transactions||N.state!==Ke.state)&&await this.rawApi.subscribe({address:C,subscriptions:N})}catch(ve){throw w.delete(S),z.delete(S),ve}},async()=>{w.delete(S);const k=this._contractSubscriptions.get(C);if(k==null)return;const z=k.get(S),{total:re,withoutExcluded:N}=B(k.values(),z);k.delete(S),!N.transactions&&!N.state?await this.rawApi.unsubscribe({address:C}):(re.transactions!==N.transactions||re.state!==N.state)&&await this.rawApi.subscribe({address:C,subscriptions:N})});return await E.subscribe(),E}default:throw new Error(`Unknown event ${o}`)}}async getProviderState(){await this.ensureInitialized();const o=await this._api.getProviderState();return{...o,permissions:(0,i.parsePermissions)(o.permissions)}}async getBalance(o){const{state:c}=await this.getFullContractState({address:o});return c==null?"0":c==null?void 0:c.balance}async getFullContractState(o){return await this.ensureInitialized(),await this._api.getFullContractState({address:o.address.toString()})}async getAccountsByCodeHash(o){await this.ensureInitialized();const{accounts:c,continuation:p}=await this._api.getAccountsByCodeHash({...o});return{accounts:c.map(w=>new a.Address(w)),continuation:p}}async getTransactions(o){await this.ensureInitialized();const{transactions:c,continuation:p,info:w}=await this._api.getTransactions({...o,address:o.address.toString()});return{transactions:c.map(i.parseTransaction),continuation:p,info:w}}async getTransaction(o){await this.ensureInitialized();const{transaction:c}=await this._api.getTransaction({...o});return{transaction:c?(0,i.parseTransaction)(c):void 0}}async getExpectedAddress(o,c){const{address:p}=await this.getStateInit(o,c);return p}async getStateInit(o,c){await this.ensureInitialized();const{address:p,stateInit:w,hash:S}=await this._api.getExpectedAddress({abi:JSON.stringify(o),...c,initParams:(0,i.serializeTokensObject)(c.initParams)});return{address:new a.Address(p),stateInit:w,hash:S}}async unpackInitData(o,c){await this.ensureInitialized();const{publicKey:p,initParams:w}=await this._api.unpackInitData({abi:JSON.stringify(o),data:c});return{publicKey:p,initParams:(0,i.parsePartialTokensObject)(o.data,w)}}async getBocHash(o){return await this.ensureInitialized(),await this._api.getBocHash({boc:o}).then(({hash:c})=>c)}async packIntoCell(o){return await this.ensureInitialized(),await this._api.packIntoCell({abiVersion:o.abiVersion,structure:o.structure,data:(0,i.serializeTokensObject)(o.data)})}async unpackFromCell(o){await this.ensureInitialized();const{data:c}=await this._api.unpackFromCell({...o,structure:o.structure});return{data:(0,i.parseTokensObject)(o.structure,c)}}async extractPublicKey(o){await this.ensureInitialized();const{publicKey:c}=await this._api.extractPublicKey({boc:o});return c}async codeToTvc(o){await this.ensureInitialized();const{tvc:c}=await this._api.codeToTvc({code:o});return c}async mergeTvc(o){return await this.ensureInitialized(),await this._api.mergeTvc(o)}async splitTvc(o){return await this.ensureInitialized(),await this._api.splitTvc({tvc:o})}async setCodeSalt(o){let c;if(typeof o.salt=="string")await this.ensureInitialized(),c=o.salt;else{const{boc:p}=await this.packIntoCell(o.salt);c=p}return await this._api.setCodeSalt({code:o.code,salt:c})}async getCodeSalt(o){await this.ensureInitialized();const{salt:c}=await this.rawApi.getCodeSalt({code:o.code});return c}async addAsset(o){await this.ensureInitialized();let c;switch(o.type){case"tip3_token":{c={rootContract:o.params.rootContract.toString()};break}default:throw new Error("Unknown asset type")}return await this._api.addAsset({account:o.account.toString(),type:o.type,params:c})}async verifySignature(o){return await this.ensureInitialized(),await this._api.verifySignature(o)}async signData(o){return await this.ensureInitialized(),await this._api.signData(o)}async signDataRaw(o){return await this.ensureInitialized(),await this._api.signDataRaw(o)}async encryptData(o){await this.ensureInitialized();const{encryptedData:c}=await this._api.encryptData(o);return c}async decryptData(o){await this.ensureInitialized();const{data:c}=await this._api.decryptData({encryptedData:o});return c}async sendMessage(o){await this.ensureInitialized();const{transaction:c}=await this._api.sendMessage({sender:o.sender.toString(),recipient:o.recipient.toString(),amount:o.amount,bounce:o.bounce,payload:o.payload?{abi:o.payload.abi,method:o.payload.method,params:(0,i.serializeTokensObject)(o.payload.params)}:void 0,stateInit:o.stateInit});return{transaction:(0,i.parseTransaction)(c)}}async sendMessageDelayed(o){await this.ensureInitialized();const c=new a.DelayedTransactions,p=await this.subscribe("messageStatusUpdated");p.on("data",C=>{C.address.equals(o.sender)&&c.fillTransaction(C.hash,C.transaction)});const{message:w}=await this._api.sendMessageDelayed({sender:o.sender.toString(),recipient:o.recipient.toString(),amount:o.amount,bounce:o.bounce,payload:o.payload?{abi:o.payload.abi,method:o.payload.method,params:(0,i.serializeTokensObject)(o.payload.params)}:void 0,stateInit:o.stateInit}).catch(C=>{throw p.unsubscribe().catch(console.error),C}),S=c.waitTransaction(o.sender,w.hash).finally(()=>p.unsubscribe().catch(console.error));return{messageHash:w.hash,expireAt:w.expireAt,transaction:S}}_registerEventHandlers(o){const c={connected:p=>p,disconnected:p=>p,transactionsFound:p=>({address:new a.Address(p.address),transactions:p.transactions.map(i.parseTransaction),info:p.info}),contractStateChanged:p=>({address:new a.Address(p.address),state:p.state}),messageStatusUpdated:p=>({address:new a.Address(p.address),hash:p.hash,transaction:p.transaction!=null?(0,i.parseTransaction)(p.transaction):void 0}),networkChanged:p=>p,permissionsChanged:p=>({permissions:(0,i.parsePermissions)(p.permissions)}),loggedOut:p=>p};for(const[p,w]of Object.entries(c))o.addListener(p,S=>{const C=this._subscriptions[p],E=w(S);for(const k of C.values())k(E)})}}e.ProviderRpcClient=f;class g extends Error{constructor(){super("Everscale provider was not found")}}e.ProviderNotFoundException=g;class D extends Error{constructor(){super("Everscale provider was not initialized yet")}}e.ProviderNotInitializedException=D;function B(m,o){const c={state:!1,transactions:!1},p=Object.assign({},c);for(const w of m){if(p.transactions&&p.state)break;c.state||(c.state=w.state),c.transactions||(c.transactions=w.transactions),w!==o&&(p.state||(p.state=w.state),p.transactions||(p.transactions=w.transactions))}return{total:c,withoutExcluded:p}}})(Le);const En={class:"modal is-active"},kn=I("div",{class:"modal-background"},null,-1),Ln={class:"modal-content select-provider-modal"},Dn={class:"box"},Mn=I("p",{class:"modal-title"},"Connect a wallet",-1),Bn={class:"buttons"},Rn=["onClick"],jn=M({__name:"ProviderSelector",props:{providers:{},onSelect:{type:Function}},setup(e){return(t,s)=>(b(),P("div",En,[kn,I("div",Ln,[I("div",Dn,[Mn,I("div",Bn,[(b(!0),P(ce,null,_e(t.providers,(n,r)=>(b(),P("button",{class:"button is-fullwidth provider-button",key:r,onClick:i=>t.onSelect(n.object)},U(n.title),9,Rn))),128))])])])]))}});let be;typeof document<"u"&&typeof window<"u"?document.readyState==="complete"?be=Promise.resolve():be=new Promise(e=>{window.addEventListener("load",()=>{e()})}):be=Promise.resolve();class zn{async request(t){if(this.inner==null)throw new Le.ProviderNotInitializedException;return this.inner.request(t)}addListener(t,s){var n;return(n=this.inner)==null||n.addListener(t,s),this}removeListener(t,s){var n;return(n=this.inner)==null||n.removeListener(t,s),this}on(t,s){var n;return(n=this.inner)==null||n.on(t,s),this}once(t,s){var n;return(n=this.inner)==null||n.once(t,s),this}prependListener(t,s){var n;return(n=this.inner)==null||n.prependListener(t,s),this}prependOnceListener(t,s){var n;return(n=this.inner)==null||n.prependOnceListener(t,s),this}}class xn{constructor(t){this.params=t,this.provider=new zn}asProviderFallback(){return()=>(this.providerPromise||(this.providerPromise=new Promise(t=>{this.providerResolve=t;const s=Be();if(s){const n=this.getProviderByKey(s);n&&(this.provider.inner=n,this.providerResolve(n),this.providerResolve=void 0)}})),this.providerPromise)}initiateConnection(){if(this.providerResolve){const t=Be();if(t){const n=this.getProviderByKey(t);if(n){this.provider.inner=n,this.providerResolve(n),this.providerResolve=void 0;return}}const s=async n=>{this.provider.inner=n,this.providerResolve(n),this.providerResolve=void 0;const r=this.getKeyByProvider(n);r&&this.setCookie("savedProviderKey",r,7)};this.selectProvider(s)||be.then(()=>{if(!this.selectProvider(s))for(const{injected:n}of this.params.supportedWallets)typeof n.flag<"u"&&typeof n.event<"u"&&window[n.flag]===!0&&window.addEventListener(n.event,r=>{this.selectProvider(s)})})}}getProviderByKey(t){const s=this.params.supportedWallets.find(n=>n.title===t);if(s)return window[s.injected.object]}getKeyByProvider(t){const s=this.params.supportedWallets.find(n=>window[n.injected.object]===t);if(s)return s.title}selectProvider(t){const s=Be();if(s){const a=this.getProviderByKey(s);if(a)return this.provider.inner=a,!0}const n=this.getProviders();if(n.length===0)return!1;if(n.length===1)return t(n[0].provider),!0;const r=K(null),i=tt({setup(){return()=>at(jn,{providers:n.map(({provider:a,wallet:l})=>({title:l.title,object:a})),onSelect:a=>{r.value&&r.value.remove(),t(a)}})}});return Oe(()=>{if(typeof document>"u")return;document.getElementById("app")&&(r.value=document.createElement("div"),document.body.appendChild(r.value),i.mount(r.value))}),!0}getProviders(){const t=new Array;if(typeof window>"u")return t;for(const s of this.params.supportedWallets){const n=s.injected.object,r=window[n];r!=null&&t.push({provider:r,wallet:s})}return t}setCookie(t,s,n){if(typeof document>"u")return;let r="";if(n){let i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3),r="; expires="+i.toUTCString()}document.cookie=t+"="+(s||"")+r+"; path=/"}deleteCookie(t){typeof document>"u"||(document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/")}disconnectProvider(){this.provider.inner=void 0,this.providerPromise=void 0,this.deleteCookie("savedProviderKey")}}const Te=new xn({supportedWallets:[{title:"EVER Wallet",injected:{object:"__ever",event:"ever#initialized"}},{title:"VENOM Wallet",injected:{object:"__venom"}}]}),Be=(e="savedProviderKey")=>{if(typeof document>"u")return null;let t=e+"=",s=document.cookie.split(";");for(let n=0;n<s.length;n++){let r=s[n];for(;r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return null},q=new Le.ProviderRpcClient({forceUseFallback:!0,fallback:Te.asProviderFallback()}),Lt=async()=>{Te.initiateConnection(),await new Le.ProviderRpcClient({forceUseFallback:!0,fallback:Te.asProviderFallback()}).requestPermissions({permissions:["basic","accountInteraction"]})},Fn=async()=>{await q.changeAccount()},$n=async()=>{await q.disconnect(),Te.disconnectProvider(),location.reload()},Dt=K(!1),Ue=it(),ge=K(),Pe=K();q.hasProvider().then(async e=>{if(!e)return;Dt.value=!0,await q.ensureInitialized(),(await q.subscribe("permissionsChanged")).on("data",s=>{Ue.value=s.permissions.accountInteraction}),(await q.subscribe("networkChanged")).on("data",s=>{Pe.value=s.networkId.toString()});const t=await q.getProviderState();Pe.value=t.networkId.toString(),t.permissions.accountInteraction!=null&&await Lt()});rt([Ue,Pe],async([e],t,s)=>{const n=e==null?void 0:e.address;if(n==null)return;ge.value=void 0;const{state:r}=await q.getFullContractState({address:n});if((e==null?void 0:e.address)!=n)return;ge.value=r==null?void 0:r.balance;const i=await q.subscribe("contractStateChanged",{address:n});s(()=>i.unsubscribe().catch(console.error)),i.on("data",a=>{a.address.equals(e==null?void 0:e.address)&&(ge.value=a.state.balance)})},{immediate:!0});function qn(){return{provider:q,hasProvider:Dt,selectedAccount:Ue,selectedAccountBalance:ge,selectedNetwork:Pe,connectToWallet:Lt,changeAccount:Fn,disconnect:$n}}const Hn=M({name:"WalletControl",components:{DisconnectIcon:It},setup(){const{provider:e,connectToWallet:t,changeAccount:s,disconnect:n}=qn(),r=K(!1);return ot(async()=>{(await e.subscribe("permissionsChanged")).on("data",y=>{r.value=!!y.permissions.accountInteraction});const v=await e.getProviderState();r.value=!!v.permissions.accountInteraction}),{connected:r,requestPermissions:async()=>{await t(),r.value=!0,location.reload()},disconnectWallet:async()=>{await n(),r.value=!1},changeAccountWallet:async()=>{await s()}}}});const Nn={class:"walletControl"};function Vn(e,t,s,n,r,i){const a=J("DisconnectIcon");return b(),P("div",Nn,[e.connected?(b(),P("button",{key:0,onClick:t[0]||(t[0]=(...l)=>e.changeAccountWallet&&e.changeAccountWallet(...l))},"Change Account")):te("",!0),e.connected?(b(),P("button",{key:1,class:"disconnectBtn",onClick:t[1]||(t[1]=(...l)=>e.disconnectWallet&&e.disconnectWallet(...l))},[Se(a,{size:16})])):(b(),P("button",{key:2,onClick:t[2]||(t[2]=(...l)=>e.requestPermissions&&e.requestPermissions(...l))},"Connect"))])}const Un=Y(Hn,[["render",Vn],["__scopeId","data-v-37804406"]]),Kn=M({__name:"BDKLayout",setup(e){const{Layout:t}=je;return(s,n)=>(b(),F(we(t),null,{"nav-bar-content-after":ne(()=>[(b(),F(Ht,null,{default:ne(()=>[Se(Un)]),_:1}))]),_:1}))}}),Wn=["href","title"],Gn=M({__name:"BDKOutlineItem",props:{headers:{},root:{type:Boolean}},emits:["update-marker"],setup(e,{emit:t}){async function s(n){if(typeof document>"u")return;const i="#"+n.target.href.split("#")[1],a=document.querySelector(decodeURIComponent(i));a==null||a.focus(),await Oe(),t("update-marker")}return(n,r)=>{const i=J("OutlineItem");return b(),P("ul",{class:Q(n.root?"root":"nested")},[(b(!0),P(ce,null,_e(n.headers,(a,l)=>{var h;return b(),P("li",{key:l},[I("a",{class:"outline-link",href:a.link,title:a.title,onClick:s},U(a.title),9,Wn),(h=a.children)!=null&&h.length?(b(),F(i,{key:0,headers:a.children},null,8,["headers"])):te("",!0)])}),128))],2)}}});const Mt=Y(Gn,[["__scopeId","data-v-185e9a32"]]),Xn=e=>(st("data-v-740e66a8"),e=e(),nt(),e),Jn={class:"content"},Qn={class:"outline-title"},Zn={"aria-labelledby":"doc-outline-aria-label"},Yn=Xn(()=>I("span",{id:"doc-outline-aria-label",class:"visually-hidden"}," Table of Contents for current page ",-1)),ei=M({__name:"BDKOutline",props:{content:{}},setup(e){const t=e,{serializeHeader:s,resolveHeaders:n,resolveTitle:r,useActiveAnchor:i,MenuItem:a}=require("./outline"),{frontmatter:l,theme:h}=ct(),v=it([]),y=K(),_=K();i(y,_);const T=d=>{if(typeof document>"u")return[];const u=Array.from(document.querySelectorAll("h2,h3,h4,h5,h6")).filter(f=>f.id&&f.hasChildNodes()).map(f=>{const g=Number(f.tagName[1]);return{title:s(f),link:"#"+f.id,level:g}});return n(u,d)};return rt(()=>t.content,()=>{typeof window<"u"&&Oe(()=>{const d=document.createElement("div");d.innerHTML=t.content??"";const u=l.value.outline??2;v.value=T(u)})},{immediate:!0}),(d,u)=>(b(),P("div",{ref_key:"container",ref:y,class:Q(["asideOutline",{"has-outline":v.value.length>0}])},[I("div",Jn,[I("div",{ref_key:"marker",ref:_,class:"outline-marker"},null,512),I("div",Qn,U(we(r)(we(h))),1),I("nav",Zn,[Yn,Se(Mt,{headers:v.value,root:!0},null,8,["headers"])])])],2))}});const ti=Y(ei,[["__scopeId","data-v-740e66a8"]]),si=M({name:"AccordionElement",props:{buttonText:{type:String,default:"Show transaction"},transactionData:{type:String,default:""}},setup(){const e=K(!1);function t(){e.value=!e.value}return{isOpen:e,toggleAccordion:t}}});const ni={class:"demo accordion"},ii={class:""};function ri(e,t,s,n,r,i){return b(),P("div",ni,[I("button",{class:"",onClick:t[0]||(t[0]=(...a)=>e.toggleAccordion&&e.toggleAccordion(...a))},U(e.buttonText),1),Nt(I("div",ii,[I("pre",null,U(e.transactionData),1)],512),[[Vt,e.isOpen]])])}const ai=Y(si,[["render",ri],["__scopeId","data-v-fe994671"]]),oi={props:{src:{type:String,required:!0},altText:{type:String,default:"Image not available"},width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:"auto"},maxWidth:{type:String,default:"100%"},padding:{type:String,default:"0 0 0 0"},alignment:{type:String,default:"center"}}},ci=["src","alt"];function ui(e,t,s,n,r,i){return b(),P("div",{class:"image-container",style:ye({display:"flex",alignItems:s.alignment,justifyContent:"center"})},[I("img",{src:s.src,alt:s.altText,style:ye({maxWidth:s.maxWidth,padding:s.padding})},null,12,ci)],4)}const li=Y(oi,[["render",ui]]),{useToast:di}=nn,hi=(e,t)=>{const s=di();switch(t){case 0:s.error({component:ae,props:{text:e}});break;case 2:s.info({component:ae,props:{text:e}});break;case 3:s.warning({component:ae,props:{text:e}});break;default:s.success({component:ae,props:{text:e}})}},pi={...je,Layout:Kn,enhanceApp({app:e}){je.enhanceApp({app:e}),e.use(Ot,{position:"top-right",timeout:5e3,closeOnClick:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.7,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.config.errorHandler=function(t,s,n){hi(t.message,0)},e.component("BDKSimpleToast",ae),e.component("BDKOutline",ti),e.component("BDKOutlineItem",Mt),e.component("BDKDisconnectIcon",It),e.component("BDKAccordion",ai),e.component("BDKImgContainer",li)}};function Bt(e){if(e.extends){const t=Bt(e.extends);return{...t,...e,async enhanceApp(s){t.enhanceApp&&await t.enhanceApp(s),e.enhanceApp&&await e.enhanceApp(s)}}}return e}const se=Bt(pi),fi=M({name:"VitePressApp",setup(){const{site:e}=ct();return ot(()=>{Kt(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),Wt(),Gt(),Xt(),se.setup&&se.setup(),()=>at(se.Layout)}});async function vi(){const e=bi(),t=mi();t.provide(Jt,e);const s=Qt(e.route);return t.provide(Zt,s),t.component("Content",Yt),t.component("ClientOnly",es),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return s.frontmatter.value}},$params:{get(){return s.page.value.params}}}),se.enhanceApp&&await se.enhanceApp({app:t,router:e,siteData:ts}),{app:t,router:e,data:s}}function mi(){return ss(fi)}function bi(){let e=Re,t;return ns(s=>{let n=is(s);return n?(e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),Re&&(e=!1),rs(()=>import(n),[])):null},se.NotFound)}Re&&vi().then(({app:e,router:t,data:s})=>{t.go().then(()=>{Ut(t.route,s.site),e.mount("#app")})});export{vi as createApp};
